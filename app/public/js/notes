document.addEventListener('DOMContentLoaded', function() {
    // Récupérer les données JSON de l'élément HTML
    const registrationDataElement = document.getElementById('registration-data');
    const registrationDataElement2 = document.getElementById('registration-data2');


    // Vérifier si les données sont disponibles
    if (registrationDataElement) {
        const registrationResult = JSON.parse(registrationDataElement.getAttribute('data-registration'));
        const registrationResult2 = JSON.parse(registrationDataElement2.getAttribute('data-registration2'));

        // Afficher les résultats dans la console pour vérifier
        console.log(registrationResult);

        console.log(registrationResult2);

        // Si vous voulez accéder à un élément spécifique, par exemple:
        if (registrationResult.length > 0) {
           
           //here 

            // Conteneur principal
            const mainContainer = document.createElement("div");
            mainContainer.style.display = "flex";
            mainContainer.style.gap = "20px"; // Espacement entre la grille et les indices
            mainContainer.style.justifyContent = "center"; // Centrer horizontalement
            mainContainer.style.height="100vh";


            
            // Créer la grille
            const gridContainer =createGrid(registrationResult[0].num_rows,registrationResult[0].num_columns)

            mainContainer.appendChild(gridContainer);
            console.log("Premier élément:", registrationResult[0].num_rows);
        
            registrationDataElement.innerHTML = ""; // Vider le contenu existant
            registrationDataElement.appendChild(mainContainer);
        } else {
            console.log("Aucun résultat trouvé.");
        }

        if (registrationResult2.length > 0) {
            console.log("Premier élément de blackcells:", registrationResult2[0]);
        } else {
            console.log("Aucun résultat dans registrationResult2.");
        }
    } else {
        console.log("Aucune donnée d'enregistrement trouvée.");
    }
});



// Fonction pour créer la grille
function createGrid(rows, columns) {
    const gridContainer = document.createElement("div");
    gridContainer.style.display = "grid";
    gridContainer.style.gridTemplateRows = `repeat(${rows}, 1fr)`;
    gridContainer.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;
    gridContainer.style.gap = "2px"; // Espacement entre les cases
    gridContainer.style.width = "60%";
    gridContainer.style.marginTop = "50px";
    gridContainer.style.marginLeft = "5vh"; // Centrer horizontalement

    // Ajouter les cellules dans la grille
    for (let i = 0; i < rows * columns; i++) {
        const cell = document.createElement("div");
        cell.style.outline = "1px solid black";
        cell.style.backgroundColor = "white"; // Couleur de fond des cellules
        cell.style.display = "flex";
        cell.style.alignItems = "center";
        cell.style.justifyContent = "center";
        cell.style.position = "relative"; // Nécessaire pour positionner l'input

        const row = Math.floor(i / columns) + 1; // Calcule la ligne (commence à 1)
        const col = i % columns; // Calcule la colonne (commence à 0)
        cell.setAttribute("data-row", row);
        cell.setAttribute("data-col", col);
        let input = null; // Déclaration pour l'input

        // Ajout de l'événement pour le clic sur la cellule
        cell.addEventListener("click", () => {
            if (!input) {
                input = document.createElement("input");
                input.type = "text";
                input.maxLength = 1; // Limiter à une seule lettre
                input.style.width = "100%";
                input.style.height = "100%";
                input.style.textAlign = "center";
                input.style.fontSize = "20px";
                input.style.border = "none";
                input.style.backgroundColor = "white";

                cell.appendChild(input);
                input.focus(); // Focus immédiat sur le champ
            }
        });

        

        gridContainer.appendChild(cell);
   
    }
   
        
        return gridContainer;
    }
























    document.addEventListener('DOMContentLoaded', function() {
        // Récupérer les données JSON des deux éléments HTML
        const registrationDataElement = document.getElementById('registration-data');
        const registrationDataElement2 = document.getElementById('registration-data2');
        
        // Vérifier si les éléments existent et si les données sont disponibles
        if (registrationDataElement && registrationDataElement2) {
            const registrationResult = JSON.parse(registrationDataElement.getAttribute('data-registration'));
            const registrationResult2 = JSON.parse(registrationDataElement2.getAttribute('data-registration2'));
    
            // Afficher les résultats dans la console pour vérifier
            console.log("registrationResult:", registrationResult);
            console.log("registrationResult2:", registrationResult2);
    
            // Vous pouvez maintenant manipuler ces données
            if (registrationResult.length > 0) {
                console.log("Premier élément de registrationResult:", registrationResult[0]);
            } else {
                console.log("Aucun résultat dans registrationResult.");
            }
    
            if (registrationResult2.length > 0) {
                console.log("Premier élément de registrationResult2:", registrationResult2[0]);
            } else {
                console.log("Aucun résultat dans registrationResult2.");
            }
        } else {
            console.log("Les données n'ont pas été trouvées.");
        }
    });
    